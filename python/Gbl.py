# Gbl.py
# 5/24/2021
# Aidan Gray
# aidan.gray@idg.jhu.edu
#
# Global dictionaries

import numpy as np

# Global Dictionary to hold shared TLM values
telemetry = {
    'id': 0,
    'env_temp': 0.0,
    'env_press': 0.0,
    'env_hum': 0.0,
    'rtd0': np.nan,
    'rtd1': np.nan,
    'rtd2': np.nan,
    'rtd3': np.nan,
    'rtd4': np.nan,
    'rtd5': np.nan,
    'rtd6': np.nan,
    'rtd7': np.nan,
    'rtd8': np.nan,
    'rtd9': np.nan,
    'rtd10': np.nan,
    'rtd11': np.nan,
    'rtd12': np.nan,
    'sns_temp_1': 0.0,
    'sns_temp_2': 0.0,
    'sns_temp_3': 0.0,
    'sns_temp_4': 0.0,
    'sns_temp_5': 0.0,
    'sns_temp_6': 0.0,
    'sns_temp_7': 0.0,
    'sns_temp_8': 0.0,
    'sns_temp_9': 0.0,
    'sns_temp_10': 0.0,
    'sns_temp_11': 0.0,
    'sns_temp_12': 0.0,
    'sns_units_1': 'K',
    'sns_units_2': 'K',
    'sns_units_3': 'K',
    'sns_units_4': 'K',
    'sns_units_5': 'K',
    'sns_units_6': 'K',
    'sns_units_7': 'K',
    'sns_units_8': 'K',
    'sns_units_9': 'K',
    'sns_units_10': 'K',
    'sns_units_11': 'K',
    'sns_units_12': 'K',
    'adc_ext_therm1': 0.0,
    'adc_ext_therm2': 0.0,
    'adc_ext_therm3': 0.0,
    'adc_ext_therm4': 0.0,
    'adc_ext_therm5': 0.0,
    'adc_ext_therm6': 0.0,
    'adc_ext_therm7': 0.0,
    'adc_ext_therm8': 0.0,
    'adc_ext_therm9': 0.0,
    'adc_ext_therm10': 0.0,
    'adc_ext_therm11': 0.0,
    'adc_ext_therm12': 0.0,
    'adc_vddio1': 0.0,
    'adc_vddio2': 0.0,
    'adc_vddio3': 0.0,
    'adc_vddio4': 0.0,
    'adc_vddio5': 0.0,
    'adc_vddio6': 0.0,
    'adc_vddio7': 0.0,
    'adc_vddio8': 0.0,
    'adc_vddio9': 0.0,
    'adc_vddio10': 0.0,
    'adc_vddio11': 0.0,
    'adc_vddio12': 0.0,
    'adc_ref_volt1': 0.0,
    'adc_ref_volt2': 0.0,
    'adc_ref_volt3': 0.0,
    'adc_ref_volt4': 0.0,
    'adc_ref_volt5': 0.0,
    'adc_ref_volt6': 0.0,
    'adc_ref_volt7': 0.0,
    'adc_ref_volt8': 0.0,
    'adc_ref_volt9': 0.0,
    'adc_ref_volt10': 0.0,
    'adc_ref_volt11': 0.0,
    'adc_ref_volt12': 0.0,
    'adc_counts1': 0.0,
    'adc_counts2': 0.0,
    'adc_counts3': 0.0,
    'adc_counts4': 0.0,
    'adc_counts5': 0.0,
    'adc_counts6': 0.0,
    'adc_counts7': 0.0,
    'adc_counts8': 0.0,
    'adc_counts9': 0.0,
    'adc_counts10': 0.0,
    'adc_counts11': 0.0,
    'adc_counts12': 0.0,
    'adc_sns_volts1': 0.0,
    'adc_sns_volts2': 0.0,
    'adc_sns_volts3': 0.0,
    'adc_sns_volts4': 0.0,
    'adc_sns_volts5': 0.0,
    'adc_sns_volts6': 0.0,
    'adc_sns_volts7': 0.0,
    'adc_sns_volts8': 0.0,
    'adc_sns_volts9': 0.0,
    'adc_sns_volts10': 0.0,
    'adc_sns_volts11': 0.0,
    'adc_sns_volts12': 0.0,
    'adc_sns_ohms1': 0.0,
    'adc_sns_ohms2': 0.0,
    'adc_sns_ohms3': 0.0,
    'adc_sns_ohms4': 0.0,
    'adc_sns_ohms5': 0.0,
    'adc_sns_ohms6': 0.0,
    'adc_sns_ohms7': 0.0,
    'adc_sns_ohms8': 0.0,
    'adc_sns_ohms9': 0.0,
    'adc_sns_ohms10': 0.0,
    'adc_sns_ohms11': 0.0,
    'adc_sns_ohms12': 0.0,
    'refin1': 0.0,
    'refin2': 0.0,
    'refin3': 0.0,
    'refin4': 0.0,
    'refin5': 0.0,
    'refin6': 0.0,
    'refin7': 0.0,
    'refin8': 0.0,
    'refin9': 0.0,
    'refin10': 0.0,
    'refin11': 0.0,
    'refin12': 0.0,
    'itherm1': 0.0,
    'itherm2': 0.0,
    'itherm3': 0.0,
    'itherm4': 0.0,
    'itherm5': 0.0,
    'itherm6': 0.0,
    'itherm7': 0.0,
    'itherm8': 0.0,
    'itherm9': 0.0,
    'itherm10': 0.0,
    'itherm11': 0.0,
    'itherm12': 0.0,
    'htr_current1': 0.0,
    'htr_current2': 0.0,
}

# Polynomial Coefficients for various sensor calibrations
sensor_cal = {
    'PT100':    [-2.41855883e+02, 2.20994204e+00, 3.38698216e-03, -3.74094739e-05,
                7.52012215e-07, -1.10816157e-08, 9.93945028e-11, -5.39794100e-13,
                1.74786835e-15, -3.11421445e-18, 2.35380893e-21],

    'PT1000':   [-1.16868584e+03, 7.29678321e+00, -2.36668702e-02, 4.58446044e-05,
                -5.68116969e-08, 4.71325395e-11, -2.65439231e-14, 1.00329915e-17,
                -2.43888703e-21, 3.44720452e-25, -2.15386906e-29],

    'DIODE':    [-3.37351458e+02, 1.79897580e+04, -1.57983258e+05, 7.31552361e+05, 
                -2.03985715e+06, 3.60952880e+06, -4.13891300e+06, 3.05966910e+06, 
                -1.40503743e+06, 3.64151783e+05, -4.06729712e+04]
}